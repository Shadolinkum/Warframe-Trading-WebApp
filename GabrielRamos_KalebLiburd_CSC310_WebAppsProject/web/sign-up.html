<html>
    <head>
        <title>Sign-up Page</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript">
            <!--
            function validateUsername(){
                var username = document.forms["Registration_Form"]["username"].value;
                
                if (username == null || username == "") {
                    document.getElementById("un").innerHTML = "***Cannot be blank";
                    return false;
                } else {
                    document.getElementById("un").innerHTML = "";
                }
                //end of validateUsername
            }
            
            
            function validatePassword(){
                var password = document.forms["Registration_Form"]["password"].value;
                var password2 = document.forms["Registration_Form"]["password2"].value;
                
                // start with one character that has 0 or any number of A-Z or a-z or one of the symbols and it has to end in one of these characters. 
                var letters = /^(?=.*[A-Z])(?=.*[a-z])(?=.*[!_@#$%]).*$/;
                
                if (password == null || password == "") {
                    document.getElementById("pass1").innerHTML = "***Cannot be blank";
                    return false;
                } else {
                    document.getElementById("pass1").innerHTML = "";
                }
                if (password.length < 6) {
                    document.getElementById("pass1").innerHTML =
                            " ***passwords  must be 6 characters in length with \n\
                            at least one Uppercase, lowercase character, and special \n\
                            symbol from the following list: !_@#$% ";
                    return false;
                } else {
                    document.getElementById("pass1").innerHTML = "";
                }

                var test = password.match(letters);
                //alert(test);

                if (test == null) {
                    document.getElementById("pass1").innerHTML =
                            " ***passwords  must be 6 characters in length with \n\
                            at least one Uppercase, lowercase character, and special \n\
                            symbol from the following list: !_@#$% ";
                    return false;
                } else {
                    document.getElementById("pass1").innerHTML = "";
                }

                if (password2 == null || password2 == "") {
                    document.getElementById("pass2").innerHTML = "***Cannot be blank";
                    return false;
                } else {
                    document.getElementById("pass2").innerHTML = "";
                }
                if (password !== password2) {
                    document.getElementById("pass2").innerHTML = "passwords do not match";
                    document.getElementById("pass1").innerHTML = "passwords do not match";
                    return false;
                } else {
                    document.getElementById("pass2").innerHTML = "";
                    document.getElementById("pass1").innerHTML = "";
                }
                //end of validatePassword
            }
            
            function validateEmail(){
                var email = document.forms["Registration_Form"]["email"].value;
                var atIndex;
                var dotIndex;
                
                if (email == null || email == "") {
                    document.getElementById("em").innerHTML = "***Cannot be blank";
                    return false;
                } else {
                    document.getElementById("em").innerHTML = "";
                }
                atIndex = email.indexOf("@");
                dotIndex = email.lastIndexOf(".");
                if (atIndex < 1 || dotIndex < atIndex + 2 || dotIndex + 2 >= email.length) {  
                      document.getElementById("em").innerHTML = "***invalid e-mail, email format is: email@place.com";
                      return false;  
                  }  else {
                    document.getElementById("em").innerHTML = "";
                }
                if (email.search("edu") == email.length - 3 && email.search("edu") == dotIndex + 1) {
                    document.getElementById("em").innerHTML = "";
                    return true;
                } else if (email.search("org") == dotIndex + 1 && email.search("org") == email.length - 3) {
                    document.getElementById("em").innerHTML = "";
                    return true;
                } else if (email.search("com") == dotIndex + 1 && email.search("com") == email.length - 3) {
                    document.getElementById("em").innerHTML = "";
                    return true;
                } else {
                    document.getElementById("em").innerHTML = "***invalid e-mail, only .edu, .org, or .com";
                    return false;
                }
                //end of validateEmail
            }
            

            //-->
        </script>
    </head>

    <body background="Trinity&KubBackground.jpg">
    <center>
        <p style="color: blue; font-size: 200%">Sign up here!</p>

        <form name="Registration_Form" action="sign-up" method="POST">
            <b>Username:</b><br>
            <input type="text" name="username" onkeyup ="return validateUsername()">                <label style=" color: red" id ="username"></label>
            <p style ="color: red" id ="un"></p>
            <br>
            
            <b>Password:</b>
            <br>
            <input type="password" name="password" onkeyup ="return validatePassword()">                      <label style=" color: red" id ="password"></label>
            <p style ="color: red" id ="pass1"></p>
            <br>
            
            <b>Re-enter Password:</b><br>
            <input type="password" name="password2" onkeyup ="return validatePassword()">                  <label style=" color: red" id ="password2"></label>
            <p style ="color: red"  id ="pass2"></p>
            <br>
            
            <b>E-mail:</b><br>
            <input type="text" name="email" onkeyup ="return validateEmail()">                        <label style=" color: red" id ="email"></label>
            <p style ="color: red" id ="em"></p>
            <br>
            
            <input type="submit" name="regsubmit" value="Sign Up">
        </form><br>

        <A href="index.html"><p style="font-size: 400%">Back to Login</p></A>
    </center>
</body>
</html>
